1. Unity クライアントの起動（ゲームタイトルの画面）
2. ユーザー ID と コントローラ の接続開始
   - 現時点では手動入力だが QR コードなどを **検討**
   - 待機列の取得に関して
     - API: `GET /api/games/lobby/{game_id}`
     - API レスポンス例:
       ```json
       {
         "gameId": "shooting",
         "lobby": {
           "1": {
             "id": "1tc5-4kh5",
             "name": "ほげほげ子",
             "personality": "2"
           },
           "2": {
             "id": "tujy-q055",
             "name": "ほげほげ夫",
             "personality": "1"
           },
           "3": {
             "id": "dryf-fbhu",
             "name": "ほげほげ郎",
             "personality": "3"
           },
           "4": null
         }
       }
       ```
3. 待機画面への遷移（Unity クライアント）
4. コントローラーの接続完了待ち
   - 4 人全員揃う or 待機画面を開いてで 99 秒経過を待つ と自動で接続完了となる
   - ユーザーから移動入力または攻撃入力がある間は 99 秒のカウントが早くなる
5. 接続完了、自動でゲーム開始（Unity クライアント）
6. ゲームの待機列を削除
   - API: `DELETE /api/games/lobby/{game_id}`
     - 現在、`{game_id}` は基本 `shooting` のみ入る
   - API のレスポンス例:
     ```json
     {
       "gameId": "shooting",
       "lobby": {
         "1": {
           "id": "1tc5-4kh5",
           "name": "ほげほげ子",
           "personality": "2"
         },
         "2": {
           "id": "tujy-q055",
           "name": "ほげほげ夫",
           "personality": "1"
         },
         "3": {
           "id": "dryf-fbhu",
           "name": "ほげほげ郎",
           "personality": "3"
         },
         "4": null
       }
     }
     ```
7. 次のプレイヤー組みの待機列を登録（更新）開始
   - API: `POST /api/games/lobby/{game_id}`
     - 現在、`{game_id}` は基本 `shooting` のみ入る
   - API リクエスト例:
     ```json
     {
       "gameId": "shooting",
       "lobby": {
         "1": "1tc5-4kh5",
         "2": "tujy-q055",
         "3": "dryf-fbhu",
         "4": null
       }
     }
     ```
   - API レスポンス例:
     ```json
     {
       "gameId": "shooting",
       "lobby": {
         "1": {
           "id": "1tc5-4kh5",
           "name": "ほげほげ子",
           "personality": "2"
         },
         "2": {
           "id": "tujy-q055",
           "name": "ほげほげ夫",
           "personality": "1"
         },
         "3": {
           "id": "dryf-fbhu",
           "name": "ほげほげ郎",
           "personality": "3"
         },
         "4": null
       }
     }
     ```
   - この API は全てのユーザーの上書き追加しかできないので、
     例えばユーザー１人を追加する場合は、
     `GET /api/games/lobby/{game_id}` の API を用いて事前にユーザーを取得しておく
8. ゲーム終了
9. ゲーム参加者の体験済みアトラクションを更新（追加）
   - 人数分行う
   - API: `POST /api/entry/attraction/{attraction_id}/visit`
     - このゲームの `{attraction_id}` は `games` である
   - API リクエスト例:
     ```json
     {
       "userId": "1tc5-4kh5",
       "staff": "スタッフ太郎"
     }
     ```
   - API レスポンス例:
     ```json
     {
       "attraction": "games",
       "staff": "スタッフ太郎",
       "user": {
         "id": "1tc5-4kh5",
         "name": "ほげほげ子",
         "personality": "2"
       }
     }
     ```
10. ゲーム結果の更新（登録）
    - API: `POST /api/games/result/{game_id}`
      - 現在、`{game_id}` は基本 `shooting` のみ入る
    - API リクエスト例:
      ```json
      {
        "startTime": "2025-08-27T14:32:15Z",
        "results": {
          "1": {
            "id": "1tc5-4kh5",
            "name": "ほげほげ子",
            "score": 85
          },
          "2": {
            "id": "tujy-q055",
            "name": "ほげほげ夫",
            "score": 72
          },
          "3": {
            "id": "dryf-fbhu",
            "name": "ほげほげ郎",
            "score": 64
          },
          "4": null
        }
      }
      ```
      - `startTime` はゲーム開始の時刻ではなく結果更新時の時刻でも良い
    - API レスポンス例:
      ```json
      {
        "gameId": "shooting",
        "playId": 12
      }
      ```
